/* =============================================
   CERTIFICATES DATA
   ============================================= */

const portfolioCerts = [
  {
    title: "Advanced MySQL for Data Analysis",
    description: "Advanced querying, data extraction, and manipulation for real-world analytics projects.",
    image: "https://drive.google.com/thumbnail?id=10IeF_XPEwVs7IzuZqXq759XmkgJl_N3h",
    link: "https://www.analystbuilder.com/achievements/verify/LU1AUNABDR?r=ZkFvQXEy50af79AiWHM4fimdd",
  },
  {
    title: "MySQL for Data Analytics",
    description: "Efficient database querying and SQL skills for real-world analytics projects.",
    image: "https://drive.google.com/thumbnail?id=16HjEfVhRCCOq0sAnVYuaX4arLAtPjd5a",
    link: "https://www.analystbuilder.com/achievements/verify/1VD05N7AO5?r=OCqu1cZhfCUPYHKsQOqgQf9g6",
  },
  {
    title: "Tableau for Data Visualization",
    description: "Visual dashboards and interactive charts to explore data insights using Tableau.",
    image: "https://drive.google.com/thumbnail?id=1Rcfo7BmFoLEvXgLv9XcK9Jr4RTPTlvi7",
    link: "https://www.analystbuilder.com/achievements/verify/59JUCU1W77?r=LrxKi2LG5D3Do9cNYLjl9va3x",
  },
  {
    title: "Introduction to Data Analytics",
    description: "IBM's foundational course covering data analytics processes, roles, and end-to-end workflows.",
    image: "https://s3.amazonaws.com/coursera_assets/meta_images/generated/CERTIFICATE_LANDING_PAGE/CERTIFICATE_LANDING_PAGE~QU6KSEAX5KBS/CERTIFICATE_LANDING_PAGE~QU6KSEAX5KBS.jpeg",
    link: "https://coursera.org/share/2ef4effae09df24b23bcfe41769ee7fa",
  },
  {
    title: "Python for Data Science, AI & Development",
    description: "IBM's Python course covering Pandas, NumPy, REST APIs, and web scraping.",
    image: "https://s3.amazonaws.com/coursera_assets/meta_images/generated/CERTIFICATE_LANDING_PAGE/CERTIFICATE_LANDING_PAGE~XJ46CGPFV18I/CERTIFICATE_LANDING_PAGE~XJ46CGPFV18I.jpeg",
    link: "https://coursera.org/share/d81d3cd372b014554ce2e1bbf3b23214",
  },
  {
    title: "Databases and SQL for Data Science",
    description: "IBM's course on relational databases, SQL queries, joins, views, and stored procedures.",
    image: "https://s3.amazonaws.com/coursera_assets/meta_images/generated/CERTIFICATE_LANDING_PAGE/CERTIFICATE_LANDING_PAGE~FD6LPXHJEC06/CERTIFICATE_LANDING_PAGE~FD6LPXHJEC06.jpeg",
    link: "https://coursera.org/share/6ba5107cadea3a015be412a33a505911",
  },
  {
    title: "Get Started with Python (Google)",
    description: "Google's Python course covering syntax, loops, data structures, and string manipulation.",
    image: "https://s3.amazonaws.com/coursera_assets/meta_images/generated/CERTIFICATE_LANDING_PAGE/CERTIFICATE_LANDING_PAGE~W0MFNF57QLVC/CERTIFICATE_LANDING_PAGE~W0MFNF57QLVC.jpeg",
    link: "https://coursera.org/share/1d42cdd248186e4fe764a4dad7693cab",
  },
  {
    title: "SQL for Data Science (UC Davis)",
    description: "Core SQL for data analysis — filtering, sorting, joins, and multi-source integration.",
    image: "https://s3.amazonaws.com/coursera_assets/meta_images/generated/CERTIFICATE_LANDING_PAGE/CERTIFICATE_LANDING_PAGE~PF2YFWL5NH8Q/CERTIFICATE_LANDING_PAGE~PF2YFWL5NH8Q.jpeg",
    link: "https://coursera.org/share/0212642f16799665520d3168643c4da3",
  },
  {
    title: "Data Analyst Roadmap",
    description: "Comprehensive program covering SQL, Excel, Tableau, Python, Pandas, and cloud services.",
    image: "https://drive.google.com/thumbnail?id=1rsv0d4xm-5kAxnc27VgrlqLDuSAAV4kF",
    link: "https://www.analystbuilder.com/achievements/verify/JHZZDE670T?r=hynzZw2ozdUIq0Gn9xymWT1bW",
  },
  {
    title: "Microsoft Power BI for Business Intelligence",
    description: "Creating interactive reports, dashboards, and data models with Power BI Desktop.",
    image: "https://drive.google.com/thumbnail?id=13856cW3yHlBF-UNHZoEnOX51zvmI2n21",
    link: "https://www.analystbuilder.com/achievements/verify/JCYFXWKCRA?r=0WenXrjPfCiHD634Th0o1Fv0J",
  },
  {
    title: "Excel for Data Analytics",
    description: "Advanced Excel functions, PivotTables, Power Query, and data visualization.",
    image: "https://drive.google.com/thumbnail?id=1GplBBkI6vsYtV646JTeM3n9ZxnxWtw-Y",
    link: "https://www.analystbuilder.com/achievements/verify/5X9SCAPPWX?r=urhgWZRWU7VJf9H2PcRDJdn3B",
  },
  {
    title: "Python Programming for Beginners",
    description: "Python fundamentals — variables, control flow, functions, and data structures.",
    image: "https://drive.google.com/thumbnail?id=1mfZwghyN9N2FYPZwKO8vgI-VsrzgIG9e",
    link: "https://www.analystbuilder.com/achievements/verify/Y00CZ2QPY5?r=YvDwPmoFzwFAbB8Z28HZRQx4K",
  },
  {
    title: "Pandas for Data Analysis",
    description: "Data manipulation using Pandas — filtering, grouping, aggregation, and time series.",
    image: "https://drive.google.com/thumbnail?id=1Tj-Q1NbZAXTnK5nsCmfIXNhYx8OB3lYk",
    link: "https://www.analystbuilder.com/achievements/verify/8UP6W5PDTH?r=EnrPTR22NDwMODC2vZWzfgoKH",
  },
  {
    title: "MySQL Interview Crash Course",
    description: "MySQL fundamentals for technical interviews — queries, joins, and subqueries.",
    image: "https://drive.google.com/thumbnail?id=1IPN6DcvJXuyYMcYY6bwVBT2ORknYDvNX",
    link: "https://www.analystbuilder.com/achievements/verify/Y69G38S60C?r=DXJeBIXWnZaOYO5QTIVN8Ag0b",
  },
  {
    title: "Python Interview Crash Course",
    description: "Python fundamentals for technical interviews — OOP, data types, and problem solving.",
    image: "https://drive.google.com/thumbnail?id=1jevBbPsgv4pIFRXE0mSQd-g2obQkBnF-",
    link: "https://www.analystbuilder.com/achievements/verify/LIWF1SXY75?r=qzcvJCmTK7hKkFhmW5Ref1OKB",
  },
  {
    title: "Advanced Excel for Automation",
    description: "Excel automation with VBA macros, Power Query, and pivot tables.",
    image: "https://drive.google.com/thumbnail?id=1kuF2SDw6YtXmJgu-cXD0KweNck5LoZWD",
    link: "https://www.analystbuilder.com/achievements/verify/Q2NGK5X1ON?r=QKeCOaeJQPWQ4kDsoxqIDlHiV",
  },
  {
    title: "Git & GitHub for Data Professionals",
    description: "Version control, branching, pull requests, and GitHub workflows for data projects.",
    image: "https://drive.google.com/thumbnail?id=10FRaPNCnX9pOJx5EYTS6PSqdziRASex-",
    link: "https://www.analystbuilder.com/achievements/verify/GEBUS742DS?r=ntnAWYjULQQXiGXtTJMCo2jY6",
  },
  {
    title: "Cloud Data Engineering (Azure & AWS)",
    description: "Data pipelines with Azure Data Factory, Synapse, AWS Glue, Redshift, and QuickSight.",
    image: "https://drive.google.com/thumbnail?id=1EED1YQpWVps3yMMj_pIxrj4beWLZto14",
    link: "https://www.analystbuilder.com/achievements/verify/5ZYVUF0778?r=UiGGZPVaL9myNN45JXHmlx5G1",
  },
  {
    title: "Data Analytics Bootcamp",
    description: "Intensive bootcamp covering data cleaning, analysis, and reporting with Python, SQL, and Power BI.",
    image: "https://drive.google.com/thumbnail?id=157MH3D9i7dKfkfbg5W1CWF5YkQd4oi2j",
    link: "https://drive.google.com/file/d/12GSDhacTcBW1fiWf0Q3yp9gE1oT1Pk32/view?usp=sharing",
  },
];

/* =============================================
   RENDER CERTIFICATES
   ============================================= */

function renderCertificates() {
  const track = document.getElementById('certificatesTrack');
  if (!track) return;

  const renderSet = () =>
    portfolioCerts
      .map(
        (cert) => `
      <a href="${cert.link}" target="_blank" rel="noopener noreferrer" class="cert-card">
        <div class="cert-img-wrapper">
          <img src="${cert.image}" alt="${cert.title}" loading="lazy" />
        </div>
        <h4>${cert.title}</h4>
        <p>${cert.description}</p>
        <span class="cert-link-text">View Certificate →</span>
      </a>`
      )
      .join('');

  // Duplicate for seamless infinite scroll
  track.innerHTML = renderSet() + renderSet();
}

/* =============================================
   LOADING SCREEN
   ============================================= */

function initLoader() {
  const loader = document.getElementById('loader');
  if (!loader) return;

  window.addEventListener('load', () => {
    setTimeout(() => loader.classList.add('hidden'), 500);
  });

  // Fallback: hide loader after 3s regardless
  setTimeout(() => loader && loader.classList.add('hidden'), 3000);
}

/* =============================================
   CUSTOM CURSOR
   ============================================= */

function initCursor() {
  const cursor = document.getElementById('cursor');
  const ring = document.getElementById('cursor-ring');
  if (!cursor || !ring) return;

  let mouseX = 0, mouseY = 0;
  let ringX = 0, ringY = 0;

  document.addEventListener('mousemove', (e) => {
    mouseX = e.clientX;
    mouseY = e.clientY;
    cursor.style.left = mouseX + 'px';
    cursor.style.top = mouseY + 'px';
  });

  // Ring follows with smooth lag
  function animateRing() {
    ringX += (mouseX - ringX) * 0.12;
    ringY += (mouseY - ringY) * 0.12;
    ring.style.left = ringX + 'px';
    ring.style.top = ringY + 'px';
    requestAnimationFrame(animateRing);
  }
  animateRing();

  // Hover effect on interactive elements
  const interactives = document.querySelectorAll(
    'a, button, .project-category-card, .contact-card, .cert-card, .about-card'
  );

  interactives.forEach((el) => {
    el.addEventListener('mouseenter', () => {
      cursor.classList.add('hover');
      ring.classList.add('hover');
    });
    el.addEventListener('mouseleave', () => {
      cursor.classList.remove('hover');
      ring.classList.remove('hover');
    });
  });
}

/* =============================================
   NAVBAR SCROLL EFFECT
   ============================================= */

function initNavbar() {
  const navbar = document.getElementById('navbar');
  if (!navbar) return;

  window.addEventListener('scroll', () => {
    if (window.scrollY > 60) {
      navbar.classList.add('scrolled');
    } else {
      navbar.classList.remove('scrolled');
    }
  });
}

/* =============================================
   MOBILE MENU
   ============================================= */

function initMobileMenu() {
  const hamburger = document.getElementById('hamburger');
  const mobileMenu = document.getElementById('mobileMenu');
  const mobileClose = document.getElementById('mobileClose');
  const mobileLinks = document.querySelectorAll('.mobile-links a');

  if (!hamburger || !mobileMenu) return;

  hamburger.addEventListener('click', () => mobileMenu.classList.add('open'));
  mobileClose && mobileClose.addEventListener('click', () => mobileMenu.classList.remove('open'));

  mobileLinks.forEach((link) =>
    link.addEventListener('click', () => mobileMenu.classList.remove('open'))
  );
}

/* =============================================
   BACK TO TOP
   ============================================= */

function initBackToTop() {
  const btn = document.getElementById('backToTop');
  if (!btn) return;

  window.addEventListener('scroll', () => {
    btn.classList.toggle('visible', window.scrollY > 400);
  });

  btn.addEventListener('click', () =>
    window.scrollTo({ top: 0, behavior: 'smooth' })
  );
}

/* =============================================
   SMOOTH NAV LINK SCROLL
   ============================================= */

function initSmoothScroll() {
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener('click', (e) => {
      const target = document.querySelector(anchor.getAttribute('href'));
      if (target) {
        e.preventDefault();
        target.scrollIntoView({ behavior: 'smooth' });
      }
    });
  });
}

/* =============================================
   INIT ALL
   ============================================= */

document.addEventListener('DOMContentLoaded', () => {
  initLoader();
  renderCertificates();
  initNavbar();
  initMobileMenu();
  initBackToTop();
  initSmoothScroll();

  // Cursor is init after DOM + a tiny delay for interactive elements
  setTimeout(initCursor, 100);
});
